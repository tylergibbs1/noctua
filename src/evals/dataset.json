[
  {
    "name": "clean_em_visit",
    "description": "Simple E/M visit with no issues — should be clean or near-clean",
    "claim": {
      "claimId": "EVAL-001",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P001",
        "dateOfBirth": "1975-03-20",
        "sex": "M",
        "name": "John Smith"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["E11.9", "I10"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [],
      "mustNotHaveCategories": ["ptp_conflict", "mue_violation", "addon_violation", "invalid_code"],
      "mustNotHaveSeverity": ["error"],
      "maxRiskScore": 20
    }
  },
  {
    "name": "ptp_conflict_no_modifier",
    "description": "E/M billed with venipuncture, no modifier 25 — PTP conflict expected",
    "claim": {
      "claimId": "EVAL-002",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P002",
        "dateOfBirth": "1960-01-10",
        "sex": "F",
        "name": "Jane Doe"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["J06.9"],
          "units": 1
        },
        {
          "cpt": "36415",
          "modifiers": [],
          "icd10": ["J06.9"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "ptp_conflict", "severity": "warning" }
      ],
      "minRiskScore": 5
    }
  },
  {
    "name": "ptp_conflict_modifier_allowed",
    "description": "Two knee arthroscopy codes — PTP conflict with modifier override allowed (real CMS mod indicator 1)",
    "claim": {
      "claimId": "EVAL-003",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P003",
        "dateOfBirth": "1955-07-22",
        "sex": "M",
        "name": "Bob Johnson"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "29880",
          "modifiers": [],
          "icd10": ["M17.11"],
          "units": 1
        },
        {
          "cpt": "29881",
          "modifiers": [],
          "icd10": ["M17.11"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "ptp_conflict", "severity": "warning" }
      ],
      "minRiskScore": 5
    }
  },
  {
    "name": "mue_violation",
    "description": "E/M visit with 3 units (MUE limit is 1)",
    "claim": {
      "claimId": "EVAL-004",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P004",
        "dateOfBirth": "1980-11-05",
        "sex": "F",
        "name": "Alice Brown"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["M54.5"],
          "units": 3
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "mue_violation", "code": "99214", "severity": "error" }
      ],
      "minRiskScore": 30
    }
  },
  {
    "name": "addon_without_primary",
    "description": "Add-on code 99292 without primary 99291",
    "claim": {
      "claimId": "EVAL-005",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P005",
        "dateOfBirth": "1970-04-18",
        "sex": "M",
        "name": "Charlie Wilson"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["I50.9"],
          "units": 1
        },
        {
          "cpt": "99292",
          "modifiers": [],
          "icd10": ["I50.9"],
          "units": 2
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "addon_violation", "code": "99292", "severity": "error" }
      ],
      "minRiskScore": 30
    }
  },
  {
    "name": "sex_mismatch_prostate",
    "description": "Female patient with prostate cancer code — agent infers male-only from description",
    "claim": {
      "claimId": "EVAL-006",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P006",
        "dateOfBirth": "1965-09-12",
        "sex": "F",
        "name": "Diana Martinez"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["C61"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "age_sex_mismatch", "code": "C61" }
      ],
      "minRiskScore": 10
    }
  },
  {
    "name": "sex_mismatch_breast_male",
    "description": "Male patient with female breast cancer code — agent infers from description",
    "claim": {
      "claimId": "EVAL-007",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P007",
        "dateOfBirth": "1958-02-28",
        "sex": "M",
        "name": "Ed Thompson"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["C50.911"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "age_sex_mismatch", "code": "C50.911" }
      ],
      "minRiskScore": 10
    }
  },
  {
    "name": "age_mismatch_pediatric",
    "description": "Adult patient with pediatric wellness visit code — agent infers from 'child health' description",
    "claim": {
      "claimId": "EVAL-008",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P008",
        "dateOfBirth": "1985-06-01",
        "sex": "M",
        "name": "Frank Garcia"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99213",
          "modifiers": [],
          "icd10": ["Z00.129"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "age_sex_mismatch", "code": "Z00.129" }
      ],
      "minRiskScore": 5
    }
  },
  {
    "name": "modifier_59_valid_ptp",
    "description": "PTP conflict resolved with modifier 59 and modifier 25 — lower risk",
    "claim": {
      "claimId": "EVAL-009",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P009",
        "dateOfBirth": "1972-08-14",
        "sex": "F",
        "name": "Grace Lee"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": ["25"],
          "icd10": ["E11.9", "J06.9"],
          "units": 1
        },
        {
          "cpt": "96372",
          "modifiers": ["59"],
          "icd10": ["J06.9"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [],
      "mustNotHaveSeverity": ["error"],
      "maxRiskScore": 40
    }
  },
  {
    "name": "multiple_issues",
    "description": "Claim with PTP conflict, MUE violation, and add-on without primary",
    "claim": {
      "claimId": "EVAL-010",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P010",
        "dateOfBirth": "1945-12-25",
        "sex": "M",
        "name": "Henry Davis"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["I48.91", "I50.9"],
          "units": 1
        },
        {
          "cpt": "93000",
          "modifiers": [],
          "icd10": ["I48.91"],
          "units": 4
        },
        {
          "cpt": "90472",
          "modifiers": [],
          "icd10": ["Z23"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "ptp_conflict" },
        { "category": "ptp_conflict" },
        { "category": "mue_violation", "code": "93000", "severity": "error" },
        { "category": "addon_violation", "code": "90472", "severity": "error" }
      ],
      "minRiskScore": 50
    }
  },
  {
    "name": "critical_care_bundling",
    "description": "Critical care with bundled E/M and EKG — E/M bundles with critical care",
    "claim": {
      "claimId": "EVAL-011",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P011",
        "dateOfBirth": "1950-03-15",
        "sex": "M",
        "name": "Ivan Petrov"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99291",
          "modifiers": [],
          "icd10": ["I50.9"],
          "units": 1
        },
        {
          "cpt": "99292",
          "modifiers": [],
          "icd10": ["I50.9"],
          "units": 2
        },
        {
          "cpt": "99215",
          "modifiers": [],
          "icd10": ["I50.9"],
          "units": 1
        },
        {
          "cpt": "93000",
          "modifiers": [],
          "icd10": ["I48.91"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "ptp_conflict", "severity": "error" },
        { "category": "ptp_conflict", "severity": "error" }
      ],
      "minRiskScore": 30
    }
  },
  {
    "name": "clean_surgical",
    "description": "Clean single knee arthroscopy — no violations",
    "claim": {
      "claimId": "EVAL-012",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P012",
        "dateOfBirth": "1968-10-30",
        "sex": "F",
        "name": "Julia Wong"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "29881",
          "modifiers": [],
          "icd10": ["M17.12"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [],
      "mustNotHaveCategories": ["ptp_conflict", "mue_violation", "addon_violation", "invalid_code"],
      "mustNotHaveSeverity": ["error"],
      "maxRiskScore": 20
    }
  },
  {
    "name": "mammogram_male",
    "description": "Male patient with mammogram screening diagnosis code — agent infers from description",
    "claim": {
      "claimId": "EVAL-013",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P013",
        "dateOfBirth": "1960-05-20",
        "sex": "M",
        "name": "Karl Schmidt"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "99214",
          "modifiers": [],
          "icd10": ["Z12.31"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "age_sex_mismatch", "code": "Z12.31" }
      ],
      "minRiskScore": 5
    }
  },
  {
    "name": "lab_bundling",
    "description": "CMP and lipid panel billed together — PTP conflict (mod indicator 0, mutually exclusive)",
    "claim": {
      "claimId": "EVAL-014",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P014",
        "dateOfBirth": "1978-08-08",
        "sex": "F",
        "name": "Laura Chen"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "80053",
          "modifiers": [],
          "icd10": ["E11.9"],
          "units": 1
        },
        {
          "cpt": "80061",
          "modifiers": [],
          "icd10": ["E78.5"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "ptp_conflict", "severity": "error" }
      ],
      "minRiskScore": 20
    }
  },
  {
    "name": "tka_with_arthroscopy",
    "description": "Total knee arthroplasty billed with arthroscopy — PTP conflict with modifier allowed (real CMS mod indicator 1)",
    "claim": {
      "claimId": "EVAL-015",
      "dateOfService": "2024-06-15",
      "patient": {
        "id": "P015",
        "dateOfBirth": "1952-11-11",
        "sex": "M",
        "name": "Mike Rodriguez"
      },
      "provider": { "type": "practitioner" },
      "lineItems": [
        {
          "cpt": "27447",
          "modifiers": [],
          "icd10": ["M17.11"],
          "units": 1
        },
        {
          "cpt": "29881",
          "modifiers": [],
          "icd10": ["M17.11"],
          "units": 1
        }
      ]
    },
    "expected": {
      "expectedFindings": [
        { "category": "ptp_conflict", "severity": "warning" }
      ],
      "minRiskScore": 5
    }
  }
]
